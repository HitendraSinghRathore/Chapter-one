<mat-drawer-container class="listing-container">
    <mat-drawer [mode]="drawerMode" [opened]="isSidenavOpened" class="menu-drawer">
        Testdata
    </mat-drawer>
    <mat-drawer-content id="main" class="book-container">
        <h1 class="page-title">Books</h1>
        <section class="listing-container--content">
            <div class="search--container">
                <mat-form-field appearance="outline" class="search--container--field dense">
                    <input matInput placeholder="Search" class="search--input" type="text" [(ngModel)]="query" (keyup.enter)="onSearch()"/>
                    <button mat-icon-button matPrefix class="search--container--button" (click)="onSearch()">
                        <ng-icon name="hero-magnifying-glass" size="22"></ng-icon>
                    </button>
                </mat-form-field>
                <button mat-icon-button class="search--container--button">
                    <ng-icon name="hero-funnel" size="22"></ng-icon>
                </button>
            </div>
            <div *ngIf="loading$ | async; else booksContent">
                <app-shimmer width="100%" height="240px" borderRadius="4px"></app-shimmer>
              </div>
            <ng-template #booksContent class="book-grid">
                <div class="book-grid--item" *ngFor="let book of publicBooks$ | async">
                    <div class="book-grid--item--image">
                        <img [src]="'http://localhost:8080' + book.image" alt="Book image">
                    </div>
                    <div class="book-grid--item--info">
                        <div class="book-grid--item--info--title">
                            <h3>{{ book.name }}</h3>
                        </div>
                        <div class="book-grid--item--info--author">
                            <p>{{ book.author.name }}</p>
                        </div>
                        <div class="book-grid--item--info--price">
                            <p>{{ book.price | currency }}</p>
                        </div>
                        </div>
                        </div>
            </ng-template>
            <div class="paginator" *ngIf="pagination$ | async as pagination">
                <mat-paginator [pageSizeOptions]="[10, 20, 50, 100]"
                               [pageSize]="pagination.limit"
                               [pageIndex]="pagination.page - 1"
                               [length]="pagination.total"
                               (page)="onPageChange($event)">
                </mat-paginator>
                </div>
        </section>
    </mat-drawer-content>
</mat-drawer-container>