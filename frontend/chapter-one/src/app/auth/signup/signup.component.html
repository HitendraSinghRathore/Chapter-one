<main class="signup-container" >
    <section class="signup-container--content">
      <header class="signup-container--content--header">
        <a role="button" class="signup-container--content--header--logo" href="/">
          <img src="logo.png" alt="Logo" height="96" />
        </a>
      </header>
  
      <section class="content-form">
        <h1 class="content-form--header">Create a new account</h1>
        <p class="content-form--desc">
          Enter your details below to create your account
        </p>
  
        <form novalidate class="content-form--form" [formGroup]="signupForm" (ngSubmit)="onSubmit()">
          <div class="content-form--form--wrapper">
            <mat-form-field appearance="outline" class="content-form--form--field">
              <mat-label>First name</mat-label>
              <input
                matInput
                type="text"
                placeholder="Enter first name"
                formControlName="firstName"
              />
              <mat-error *ngIf="firstName?.invalid && (firstName?.touched || firstName?.dirty)">
                <ng-container *ngIf="firstName?.errors?.['required']">
                  First name is required
                </ng-container>
              </mat-error>
            </mat-form-field>
  
            <mat-form-field appearance="outline" class="content-form--form--field">
              <mat-label>Last name</mat-label>
              <input
                matInput
                type="text"
                placeholder="Enter last name"
                formControlName="lastName"
              />
              <mat-error *ngIf="lastName?.invalid && (lastName?.touched || lastName?.dirty)">
                <ng-container *ngIf="lastName?.errors?.['required']">
                  Last name is required
                </ng-container>
              </mat-error>
            </mat-form-field>
          </div>
  
          <div class="content-form--form--wrapper">
            <mat-form-field appearance="outline" class="content-form--form--field">
              <mat-label>Email</mat-label>
              <input
                matInput
                type="email"
                placeholder="Enter email"
                formControlName="email"
              />
              <mat-error *ngIf="email?.invalid && (email?.touched || email?.dirty)">
                <ng-container *ngIf="email?.errors?.['required']">
                  Email is required
                </ng-container>
                <ng-container *ngIf="email?.errors?.['email']">
                  Please enter a valid email
                </ng-container>
              </mat-error>
            </mat-form-field>
  
            <mat-form-field appearance="outline" class="content-form--form--field">
              <mat-label>Mobile</mat-label>
              <input
                matInput
                type="text"
                placeholder="Enter mobile"
                formControlName="mobile"
              />
              <mat-error *ngIf="mobile?.invalid && (mobile?.touched || mobile?.dirty)">
                <ng-container *ngIf="mobile?.errors?.['required']">
                  Mobile is required
                </ng-container>
                <ng-container *ngIf="mobile?.errors?.['minlength']">
                    Please enter a valid mobile number
                  </ng-container>
              </mat-error>
            </mat-form-field>
          </div>
  
          <mat-form-field appearance="outline" class="content-form--form--field extra-margin">
            <mat-label>Password</mat-label>
            <input
              matInput
              [type]="passwordVisible ? 'text' : 'password'"
              placeholder="Enter password"
              formControlName="password"
            />
            <mat-icon matSuffix (click)="togglePassword()" aria-hidden="false">
              <ng-icon
                [name]="passwordVisible ? 'hero-eye-slash' : 'hero-eye'"
                size="24"
                color="primary"
              ></ng-icon>
            </mat-icon>
            <mat-hint class="form-hint">
              Password must be at least 6 characters, contain uppercase, lowercase, and one special symbol
            </mat-hint>
            <mat-error *ngIf="password?.invalid && (password?.touched || password?.dirty)">
              <ng-container *ngIf="password?.errors?.['required']">
                Password is required
              </ng-container>
            </mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline" class="content-form--form--field">
            <mat-label>Confirm password</mat-label>
            <input
              matInput
              [type]="confirmPasswordVisible ? 'text' : 'password'"
              placeholder="Confirm password"
              formControlName="confirmPassword"
            />
            <mat-icon matSuffix (click)="toggleConfirmPassword()" aria-hidden="false">
              <ng-icon
                [name]="confirmPasswordVisible ? 'hero-eye-slash' : 'hero-eye'"
                size="24"
                color="primary"
              ></ng-icon>
            </mat-icon>
            <mat-error *ngIf="confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched)">
              <ng-container *ngIf="confirmPassword?.errors?.['required']">
                Confirm password is required
              </ng-container>
              <ng-container *ngIf="confirmPassword?.errors?.['mismatch']">
                Passwords do not match
              </ng-container>
            </mat-error>
          </mat-form-field>
          <button
            mat-raised-button
            color="primary"
            class="content-form--form--button"
            type="submit"
            [disabled]="signupForm.invalid || formLoading"
          >
          <ng-container *ngIf="!formLoading; else loadingTemplate">
            Create account
          </ng-container>
          </button>
          <ng-template #loadingTemplate>
            <mat-progress-spinner
             class="spinner"
            diameter="20"
            mode="indeterminate"
          ></mat-progress-spinner>
          </ng-template>
        </form>
  
        <p class="content-form--footer">
          Already have an account?
          <a href="/login" class="content-form--footer--link" tabindex="0">Login</a>
        </p>
      </section>
    </section>
  
    <section class="signup-container--image">
      <img src="book-banner.jpg" alt="Signup image containing book store" />
    </section>
  </main>
  